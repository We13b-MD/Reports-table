<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Table</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f4f4f4;
        }
        h1{
  color:#00CED1;
  display:flex;
  justify-content: center;
  font-family: "Source Code Pro", serif;
  font-optical-sizing: auto;
  font-weight: 700;
  font-style: normal;
}
    </style>
</head>
<body>
    <h1>Digital Tribe Chivas Reports</h1>
    <table id="data-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Impressions</th>
                <th>Clicks</th>
                <th>CTR</th>
                <th>Video Starts</th>
                <th>First Quartile</th>
                <th>Second Quartile</th>
                <th>Third Quartile</th>
                <th>Completed</th>
                <th>VTR</th>
                <th>Mobile</th>
                <th>Desktop</th>
                <th>Tablet</th>
                <th>Safari</th>
                <th>Chrome</th>
                <th>Edge</th>
                <th>Windows</th>
                <th>MacOS</th>
                <th>Linux</th>
                <th>Android</th>
                <th>iOS</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="date">-</td>
                <td id="impressions">0</td>
                <td id="clicks">0</td>
                <td id="ctr">0%</td>
                <td id="videoStart">0</td>
                <td id="first">0</td>
                <td id="sec">0</td>
                <td id="third">0</td>
                <td id="completed">0</td>
                <td id="vtr">0%</td>
                <td id="mobile">0</td>
                <td id="desktop">0</td>
                <td id="tablet">0</td>
                <td id="safari">0</td>
                <td id="chrome">0</td>
                <td id="edge">0</td>
                <td id="windows">0</td>
                <td id="macOS">0</td>
                <td id="linux">0</td>
                <td id="android">0</td>
                <td id="ios">0</td>
            </tr>
        </tbody>
    </table>
    
    <script>
        // Load data from local storage
        function loadDataFromLocalStorage() {
    const data = JSON.parse(localStorage.getItem('dailyData')) || {
    date: new Date().toISOString().split('T')[0],
    imp: 0, // Impression count
    clicks: 0,
    ctr: 0,
    videoStart: 0,
    first: 0,
    sec: 0,
    third: 0,
    completed: 0,
    vtr: 0,
    mobile: 0,
    desktop: 0,
    tablet: 0,
    safari: 0,
    chrome: 0,
    edge: 0,
    windows: 0,
    macOS: 0,
    linux: 0,
    android: 0,
    ios: 0,
};


    console.log(data)
    if (data) {
        document.getElementById('date').textContent = data.date || '-';
        document.getElementById('impressions').textContent = data.imp || 0;
        document.getElementById('clicks').textContent = data.clicks || 0;
        document.getElementById('ctr').textContent = (data.ctr || 0).toFixed(2) + '%';
        document.getElementById('videoStart').textContent = data.videoStart || 0;
        document.getElementById('first').textContent = data.first || 0;
        document.getElementById('sec').textContent = data.sec || 0;
        document.getElementById('third').textContent = data.third || 0;
        document.getElementById('completed').textContent = data.completed || 0;
        document.getElementById('vtr').textContent = (data.vtr || 0).toFixed(2) + '%';
        document.getElementById('mobile').textContent = data.mobile || 0;
        document.getElementById('desktop').textContent = data.desktop || 0;
        document.getElementById('tablet').textContent = data.tablet || 0;
        document.getElementById('safari').textContent = data.safari || 0;
        document.getElementById('chrome').textContent = data.chrome || 0;
        document.getElementById('edge').textContent = data.edge || 0;
        document.getElementById('windows').textContent = data.windows || 0;
        document.getElementById('macOS').textContent = data.macOS || 0;
        document.getElementById('linux').textContent = data.linux || 0;
        document.getElementById('android').textContent = data.android || 0;
        document.getElementById('ios').textContent = data.ios || 0;
    }
}


        // Load data on page load
       /* setInterval(loadDataFromLocalStorage, 1000);
       
// Listen for storage changes to update the table dynamically
window.addEventListener('storage', (event) => {
    if (event.key === 'dailyData') {
        loadDataFromLocalStorage();
    }
});*/


document.addEventListener('DOMContentLoaded', loadDataFromLocalStorage);

// Listen for real-time updates via the storage event
window.addEventListener('storage', (event) => {
    if (event.key === 'dailyData') {
        loadDataFromLocalStorage();
    }
})
    </script>
</body>
</html>
